---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.1
  name: aroclusters.infrastructure.cluster.x-k8s.io
spec:
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: AROCluster
    listKind: AROClusterList
    plural: aroclusters
    shortNames:
    - aroc
    singular: arocluster
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Cluster to which this AroManagedControl belongs
      jsonPath: .metadata.labels.cluster\.x-k8s\.io/cluster-name
      name: Cluster
      type: string
    - description: Control plane infrastructure is ready for worker nodes
      jsonPath: .status.ready
      name: Ready
      type: string
    - description: API Endpoint
      jsonPath: .spec.controlPlaneEndpoint.host
      name: Endpoint
      priority: 1
      type: string
    name: v1beta2
    schema:
      openAPIV3Schema:
        description: AROCluster is the Schema for the AROClusters API.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: AROClusterSpec defines the desired state of AROCluster.
            properties:
              controlPlaneEndpoint:
                description: ControlPlaneEndpoint represents the endpoint used to
                  communicate with the control plane.
                properties:
                  host:
                    description: host is the hostname on which the API server is serving.
                    maxLength: 512
                    type: string
                  port:
                    description: port is the port on which the API server is serving.
                    format: int32
                    type: integer
                required:
                - host
                - port
                type: object
              secrets:
                description: 'Secrets: configures where to place Azure generated secrets.'
                properties:
                  adminCredentials:
                    description: |-
                      AdminCredentials: indicates where the AdminCredentials secret should be placed. If omitted, the secret will not be
                      retrieved from Azure.
                    properties:
                      key:
                        description: Key is the key in the Kubernetes secret being
                          referenced.
                        type: string
                      name:
                        description: |-
                          Name is the name of the Kubernetes secret to write to.
                          The secret will be created in the same namespace as the resource.
                        type: string
                    required:
                    - key
                    - name
                    type: object
                  userCredentials:
                    description: |-
                      UserCredentials: indicates where the UserCredentials secret should be placed. If omitted, the secret will not be
                      retrieved from Azure.
                    properties:
                      key:
                        description: Key is the key in the Kubernetes secret being
                          referenced.
                        type: string
                      name:
                        description: |-
                          Name is the name of the Kubernetes secret to write to.
                          The secret will be created in the same namespace as the resource.
                        type: string
                    required:
                    - key
                    - name
                    type: object
                type: object
            type: object
          status:
            description: AROClusterStatus defines the observed state of AROCluster.
            properties:
              aadProfile:
                description: 'AadProfile: The Azure Active Directory configuration.'
                properties:
                  adminGroupObjectIDs:
                    description: 'AdminGroupObjectIDs: The list of AAD group object
                      IDs that will have admin role of the cluster.'
                    items:
                      type: string
                    type: array
                  clientAppID:
                    description: 'ClientAppID: (DEPRECATED) The client AAD application
                      ID. Learn more at https://aka.ms/aks/aad-legacy.'
                    type: string
                  enableAzureRBAC:
                    description: 'EnableAzureRBAC: Whether to enable Azure RBAC for
                      Kubernetes authorization.'
                    type: boolean
                  managed:
                    description: 'Managed: Whether to enable managed AAD.'
                    type: boolean
                  serverAppID:
                    description: 'ServerAppID: (DEPRECATED) The server AAD application
                      ID. Learn more at https://aka.ms/aks/aad-legacy.'
                    type: string
                  serverAppSecret:
                    description: 'ServerAppSecret: (DEPRECATED) The server AAD application
                      secret. Learn more at https://aka.ms/aks/aad-legacy.'
                    type: string
                  tenantID:
                    description: |-
                      TenantID: The AAD tenant ID to use for authentication. If not specified, will use the tenant of the deployment
                      subscription.
                    type: string
                type: object
              conditions:
                description: Conditions define the current service state of the AROCluster.
                items:
                  description: Condition defines an observation of a Cluster API resource
                    operational state.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed. If that is not known, then using the time when
                        the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This field may be empty.
                      maxLength: 10240
                      minLength: 1
                      type: string
                    reason:
                      description: |-
                        reason is the reason for the condition's last transition in CamelCase.
                        The specific API may choose whether or not this field is considered a guaranteed API.
                        This field may be empty.
                      maxLength: 256
                      minLength: 1
                      type: string
                    severity:
                      description: |-
                        severity provides an explicit classification of Reason code, so the users or machines can immediately
                        understand the current situation and act accordingly.
                        The Severity field MUST be set only when Status=False.
                      maxLength: 32
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: |-
                        type of condition in CamelCase or in foo.example.com/CamelCase.
                        Many .condition.type values are consistent across resources like Available, but because arbitrary conditions
                        can be useful (see .node.status.conditions), the ability to deconflict is important.
                      maxLength: 256
                      minLength: 1
                      type: string
                  required:
                  - lastTransitionTime
                  - status
                  - type
                  type: object
                type: array
              currentKubernetesVersion:
                type: string
              disableLocalAccounts:
                description: |-
                  DisableLocalAccounts: If set to true, getting static credentials will be disabled for this cluster. This must only be
                  used on Managed Clusters that are AAD enabled. For more details see [disable local
                  accounts](https://docs.microsoft.com/azure/aks/managed-aad#disable-local-accounts-preview).
                type: boolean
              failureDomains:
                additionalProperties:
                  description: |-
                    FailureDomainSpec is the Schema for Cluster API failure domains.
                    It allows controllers to understand how many failure domains a cluster can optionally span across.
                  properties:
                    attributes:
                      additionalProperties:
                        type: string
                      description: attributes is a free form map of attributes an
                        infrastructure provider might use or require.
                      type: object
                    controlPlane:
                      description: controlPlane determines if this failure domain
                        is suitable for use by control plane machines.
                      type: boolean
                  type: object
                description: FailureDomains specifies a list fo available availability
                  zones that can be used
                type: object
              fqdn:
                description: 'Fqdn: The FQDN of the master pool.'
                type: string
              longRunningOperationStates:
                description: |-
                  LongRunningOperationStates saves the state for ARO long-running operations so they can be continued on the
                  next reconciliation loop.
                items:
                  description: Future contains the data needed for an Azure long-running
                    operation to continue across reconcile loops.
                  properties:
                    data:
                      description: Data is the base64 url encoded json Azure AutoRest
                        Future.
                      type: string
                    name:
                      description: |-
                        Name is the name of the Azure resource.
                        Together with the service name, this forms the unique identifier for the future.
                      type: string
                    resourceGroup:
                      description: ResourceGroup is the Azure resource group for the
                        resource.
                      type: string
                    serviceName:
                      description: |-
                        ServiceName is the name of the Azure service.
                        Together with the name of the resource, this forms the unique identifier for the future.
                      type: string
                    type:
                      description: Type describes the type of future, such as update,
                        create, delete, etc.
                      type: string
                  required:
                  - data
                  - name
                  - serviceName
                  - type
                  type: object
                type: array
              privateFQDN:
                description: 'PrivateFQDN: The FQDN of private cluster.'
                type: string
              ready:
                description: Ready is when the AROControlPlane has a API server URL.
                type: boolean
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
